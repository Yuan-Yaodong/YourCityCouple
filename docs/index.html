<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2026æ–°å¹´æ—ºæ—º - æµ‹æµ‹ä½ çš„å¼€å¹´æ—…æ¸¸åœ°</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700;900&family=ZCOOL+XiaoWei&family=Ma+Shan+Zheng&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- åŠ¨æ€èƒŒæ™¯ -->
  <div class="bg-layer">
    <canvas id="particles-canvas"></canvas>
    <div class="gradient-orb orb-1"></div>
    <div class="gradient-orb orb-2"></div>
    <div class="gradient-orb orb-3"></div>
    <div class="noise-overlay"></div>
    <div class="light-rays"></div>
  </div>

  <!-- é£˜è½çš„èŠ±ç“£/é‡‘å¸ -->
  <div class="falling-elements" id="falling-elements"></div>

  <div id="app">
    <!-- å¼•å¯¼é¡µ -->
    <div id="page-index" class="page active">
      <div class="content-wrapper">
        <!-- ä¸»æ ‡é¢˜åŒºåŸŸ -->
        <div class="hero-section">
          <div class="year-badge">2026</div>
          <h1 class="main-title">
            <span class="title-char" style="--i:0">æ–°</span>
            <span class="title-char" style="--i:1">å¹´</span>
            <span class="title-char" style="--i:2">æ—º</span>
            <span class="title-char" style="--i:3">æ—º</span>
          </h1>
          <div class="title-glow"></div>
        </div>

        <p class="subtitle">æµ‹æµ‹ä½ çš„å¼€å¹´æ—…æ¸¸åœ°</p>

        <!-- å‰ç¥¥è¯ -->
        <div class="fortune-cards">
          <div class="fortune-card" style="--i:0">
            <span class="fortune-icon">ğŸ’°</span>
            <span class="fortune-text">è´¢æºæ»šæ»š</span>
          </div>
          <div class="fortune-card" style="--i:1">
            <span class="fortune-icon">ğŸ¯</span>
            <span class="fortune-text">æ­¥æ­¥é«˜å‡</span>
          </div>
          <div class="fortune-card" style="--i:2">
            <span class="fortune-icon">â¤ï¸</span>
            <span class="fortune-text">ä¸‡äº‹å¦‚æ„</span>
          </div>
        </div>

        <!-- å¼€å§‹æŒ‰é’® -->
        <button class="btn-start" onclick="startTest()">
          <span class="btn-text">å¼€å§‹æµ‹è¯•</span>
          <span class="btn-shine"></span>
          <span class="btn-particles"></span>
        </button>

        <div class="tips">5é“é¢˜ Â· æµ‹å‡ºä½ çš„ç¦æ°”åŸå¸‚</div>
      </div>
    </div>

    <!-- é—®é¢˜é¡µ -->
    <div id="page-quiz" class="page">
      <div class="quiz-container">
        <!-- è¿›åº¦æ¡ -->
        <div class="progress-section">
          <div class="progress-track">
            <div id="progress-inner" class="progress-fill"></div>
            <div class="progress-glow"></div>
          </div>
          <div class="progress-info">
            <span id="progress-text" class="progress-text">1 / 5</span>
            <span class="progress-dots">
              <!-- è¿›åº¦ç‚¹ç”±JSåŠ¨æ€ç”Ÿæˆ -->
            </span>
          </div>
        </div>

        <!-- é—®é¢˜å¡ç‰‡ -->
        <div class="question-card" id="question-card">
          <div class="card-inner">
            <div class="question-badge">
              <span class="badge-icon">âœ¨</span>
              <span id="question-num">ç¬¬1é¢˜</span>
            </div>
            <h2 id="question-text" class="question-text"></h2>

            <div id="options-list" class="options-grid">
              <!-- é€‰é¡¹åŠ¨æ€ç”Ÿæˆ -->
            </div>
          </div>
        </div>

        <!-- åº•éƒ¨è£…é¥° -->
        <div class="quiz-footer">
          <div class="footer-pattern"></div>
        </div>
      </div>
    </div>

    <!-- ç»“æœé¡µ -->
    <div id="page-result" class="page">
      <div class="result-container">
        <!-- åº†ç¥åŠ¨æ•ˆ -->
        <div class="celebration" id="celebration"></div>

        <!-- ç»“æœå¤´éƒ¨ -->
        <div class="result-header">
          <div class="result-badge">ä½ çš„å¼€å¹´æ—ºåŸ</div>
          <div class="city-showcase">
            <div class="city-emoji" id="result-emoji"></div>
            <div class="city-name" id="result-city"></div>
            <div class="city-glow"></div>
          </div>
        </div>

        <!-- åŸå¸‚å¡ç‰‡ -->
        <div class="city-show-card">
          <div class="city-desc" id="city-desc"></div>

          <div class="tags-row" id="tags"></div>

          <div class="city-detail" id="city-detail"></div>

          <!-- åˆ†ææ–‡æ¡ˆ -->
          <div id="analysis-section" class="analysis-block" style="display: none;">
            <div class="analysis-header">
              <span class="analysis-icon">ğŸ”®</span>
              <span>ä¸ºä»€ä¹ˆé€‚åˆä½ </span>
            </div>
            <div id="why-fit" class="analysis-list"></div>
            <div id="analysis-summary" class="analysis-summary"></div>
          </div>

          <!-- ä¸“å±ç§°å· -->
          <div class="title-section" id="title-display"></div>

          <!-- äº”è¡Œå±æ€§ -->
          <div class="five-element-section" id="five-element-display"></div>

          <!-- å¹¸è¿å…ƒç´  -->
          <div class="lucky-section" id="lucky-display"></div>
        </div>

        <!-- æŒ‰é’®åŒºåŸŸ -->
        <div class="result-actions">
          <button class="btn-copy" onclick="copyResult()">
            <span class="btn-icon">ğŸ“‹</span>
            <span>å¤åˆ¶ç»“æœ</span>
          </button>
          <button class="btn-retry" onclick="restartTest()">
            <span class="btn-icon">ğŸ”„</span>
            <span>å†æµ‹ä¸€æ¬¡</span>
          </button>
        </div>

        <!-- åº•éƒ¨ç¥ç¦ -->
        <div class="result-footer">
          <div class="footer-text">ğŸ§§ æ–°å¹´è¡Œå¤§è¿ ğŸ§§</div>
        </div>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
  <script>
    // ç²’å­ç³»ç»Ÿ
    class ParticleSystem {
      constructor() {
        this.canvas = document.getElementById('particles-canvas');
        this.ctx = this.canvas.getContext('2d');
        this.particles = [];
        this.resize();
        window.addEventListener('resize', () => this.resize());
        this.animate();
      }

      resize() {
        this.canvas.width = window.innerWidth;
        this.canvas.height = window.innerHeight;
      }

      createParticle() {
        return {
          x: Math.random() * this.canvas.width,
          y: -10,
          size: Math.random() * 4 + 1,
          speedY: Math.random() * 1 + 0.5,
          speedX: Math.random() * 2 - 1,
          opacity: Math.random() * 0.8 + 0.2,
          hue: Math.random() > 0.5 ? 45 : 30 // é‡‘è‰²æˆ–æ©™è‰²
        };
      }

      animate() {
        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);

        // æ·»åŠ æ–°ç²’å­
        if (this.particles.length < 100 && Math.random() > 0.9) {
          this.particles.push(this.createParticle());
        }

        // æ›´æ–°å’Œç»˜åˆ¶ç²’å­
        this.particles.forEach((p, i) => {
          p.y += p.speedY;
          p.x += p.speedX;

          // ç»˜åˆ¶å‘å…‰ç²’å­
          const gradient = this.ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, p.size * 3);
          gradient.addColorStop(0, `hsla(${p.hue}, 100%, 70%, ${p.opacity})`);
          gradient.addColorStop(0.5, `hsla(${p.hue}, 100%, 50%, ${p.opacity * 0.5})`);
          gradient.addColorStop(1, 'transparent');

          this.ctx.beginPath();
          this.ctx.arc(p.x, p.y, p.size * 3, 0, Math.PI * 2);
          this.ctx.fillStyle = gradient;
          this.ctx.fill();

          // ç§»é™¤è¶…å‡ºå±å¹•çš„ç²’å­
          if (p.y > this.canvas.height + 10) {
            this.particles.splice(i, 1);
          }
        });

        requestAnimationFrame(() => this.animate());
      }
    }

    // é£˜è½å…ƒç´ 
    class FallingElements {
      constructor() {
        this.container = document.getElementById('falling-elements');
        this.elements = ['ğŸ§§', 'ğŸŠ', 'ğŸ®', 'âœ¨', 'ğŸ’«', 'ğŸª™', 'ğŸ²', 'ğŸª„'];
        this.createElements();
      }

      createElements() {
        for (let i = 0; i < 20; i++) {
          const el = document.createElement('div');
          el.className = 'falling-item';
          el.textContent = this.elements[Math.floor(Math.random() * this.elements.length)];
          el.style.left = Math.random() * 100 + '%';
          el.style.animationDelay = Math.random() * 5 + 's';
          el.style.animationDuration = (Math.random() * 3 + 5) + 's';
          el.style.setProperty('--drift', (Math.random() * 100 - 50) + 'px');
          this.container.appendChild(el);
        }
      }
    }

    // åº†ç¥çƒŸèŠ±
    function createCelebration() {
      const container = document.getElementById('celebration');
      container.innerHTML = '';

      for (let i = 0; i < 30; i++) {
        const particle = document.createElement('div');
        particle.className = 'confetti';
        particle.style.setProperty('--x', (Math.random() * 200 - 100) + 'px');
        particle.style.setProperty('--y', (Math.random() * -200 - 50) + 'px');
        particle.style.setProperty('--r', Math.random() * 360 + 'deg');
        particle.style.setProperty('--delay', Math.random() * 0.5 + 's');
        particle.style.setProperty('--hue', Math.random() > 0.5 ? '45' : '30');
        container.appendChild(particle);
      }
    }

    // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
    window.addEventListener('load', () => {
      new ParticleSystem();
      new FallingElements();
    });
  </script>
</body>
</html>
